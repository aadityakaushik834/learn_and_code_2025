using System;
using System.Numerics;

class MyClass
{
    static void Main()
    {
        // Read N and Q
        int[] nq = Array.ConvertAll(Console.ReadLine().Split(), int.Parse);
        int n = nq[0];
        int q = nq[1];

        // Read array
        long[] arr = Array.ConvertAll(Console.ReadLine().Split(), long.Parse);

        // Build prefix sum array
        long[] prefixSum = new long[n + 1];
        for (int i = 1; i <= n; i++)
        {
            prefixSum[i] = prefixSum[i - 1] + arr[i - 1];
        }

        // Process queries
        for (int i = 0; i < q; i++)
        {
            int[] lr = Array.ConvertAll(Console.ReadLine().Split(), int.Parse);
            int l = lr[0];
            int r = lr[1];

            long subArraySum = prefixSum[r] - prefixSum[l - 1];
            long length = r - l + 1;

            Console.WriteLine(subArraySum / length); // floor of mean
        }
    }
}
